<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>State (Paccaml.Paccaml.State)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">Paccaml</a> &#x00BB; <a href="../index.html">Paccaml</a> &#x00BB; State</nav><h1>Module <code>Paccaml.State</code></h1></header><aside><p>The State module is the module which handles the state of paccaml, which includes the map, paccamls location, the ghosts location and direction, points, bonus points, and lives</p></aside><dl><dt class="spec type" id="type-pacState"><a href="#type-pacState" class="anchor"></a><code><span class="keyword">type</span> pacState</code><code> = </code><code>{</code><table class="record"><tr id="type-pacState.tile" class="anchored"><td class="def field"><a href="#type-pacState.tile" class="anchor"></a><code>tile : <a href="../Levels/index.html#type-tile">Levels.tile</a>;</code></td></tr><tr id="type-pacState.orientation" class="anchored"><td class="def field"><a href="#type-pacState.orientation" class="anchor"></a><code>orientation : <a href="../Command/index.html#type-orientation">Command.orientation</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-ghosts"><a href="#type-ghosts" class="anchor"></a><code><span class="keyword">type</span> ghosts</code><code> = </code><code>{</code><table class="record"><tr id="type-ghosts.java" class="anchored"><td class="def field"><a href="#type-ghosts.java" class="anchor"></a><code>java : <a href="index.html#type-pacState">pacState</a>;</code></td></tr><tr id="type-ghosts.python" class="anchored"><td class="def field"><a href="#type-ghosts.python" class="anchor"></a><code>python : <a href="index.html#type-pacState">pacState</a>;</code></td></tr><tr id="type-ghosts.cpirit" class="anchored"><td class="def field"><a href="#type-ghosts.cpirit" class="anchor"></a><code>cpirit : <a href="index.html#type-pacState">pacState</a>;</code></td></tr><tr id="type-ghosts.sqhell" class="anchored"><td class="def field"><a href="#type-ghosts.sqhell" class="anchor"></a><code>sqhell : <a href="index.html#type-pacState">pacState</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.map" class="anchored"><td class="def field"><a href="#type-t.map" class="anchor"></a><code>map : <a href="../Levels/index.html#type-map">Levels.map</a>;</code></td></tr><tr id="type-t.pacState" class="anchored"><td class="def field"><a href="#type-t.pacState" class="anchor"></a><code>pacState : <a href="index.html#type-pacState">pacState</a>;</code></td></tr><tr id="type-t.ghosts" class="anchored"><td class="def field"><a href="#type-t.ghosts" class="anchor"></a><code>ghosts : <a href="index.html#type-ghosts">ghosts</a>;</code></td></tr><tr id="type-t.points" class="anchored"><td class="def field"><a href="#type-t.points" class="anchor"></a><code>points : int;</code></td></tr><tr id="type-t.lives" class="anchored"><td class="def field"><a href="#type-t.lives" class="anchor"></a><code>lives : int;</code></td></tr><tr id="type-t.bonuspoints" class="anchored"><td class="def field"><a href="#type-t.bonuspoints" class="anchor"></a><code>bonuspoints : int;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-current_tile"><a href="#val-current_tile" class="anchor"></a><code><span class="keyword">val</span> current_tile : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../Levels/index.html#type-tile">Levels.tile</a></code></dt><dd><p><code>current_tile st schema</code> returns the tile of a given sprite, with the schema being the name of the ghost or caml you want the direction of</p></dd></dl><dl><dt class="spec value" id="val-current_direction"><a href="#val-current_direction" class="anchor"></a><code><span class="keyword">val</span> current_direction : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../Command/index.html#type-orientation">Command.orientation</a></code></dt><dd><p><code>current_direction st schema</code> returns the direction of a given sprite, with the schema being the name of the ghost or caml you want the direction of</p></dd></dl><dl><dt class="spec value" id="val-check_collision"><a href="#val-check_collision" class="anchor"></a><code><span class="keyword">val</span> check_collision : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>check_collisions st last_state</code> returns true if paccaml and a ghost are on the same tile or pass eacheachother through the same tile.</p></dd></dl><dl><dt class="spec value" id="val-identify_collision"><a href="#val-identify_collision" class="anchor"></a><code><span class="keyword">val</span> identify_collision : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>indentify_collsiion st last_state</code> returns the name of the ghost that there was a collision with... requires: a collision has already happened</p></dd></dl><dl><dt class="spec value" id="val-go"><a href="#val-go" class="anchor"></a><code><span class="keyword">val</span> go : <a href="../Command/index.html#type-command">Command.command</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-pacState">pacState</a></code></dt><dd><p><code>go dir state pac</code> returns a pacState corresponding to moving in the direction given. If direction is not a viable direction, location does not change but orientation changes. <code>pac</code> determines if paccaml or one of the ghosts will move.</p><p>Requires: pac is either &quot;pythongeist&quot;, &quot;javarition&quot;, or &quot;caml&quot;.</p></dd></dl><dl><dt class="spec value" id="val-eat_map_tile"><a href="#val-eat_map_tile" class="anchor"></a><code><span class="keyword">val</span> eat_map_tile : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Levels/index.html#type-tile">Levels.tile</a> <span>&#45;&gt;</span> bool * <a href="../Levels/index.html#type-map">Levels.map</a></code></dt><dd><p><code>eat_map_tile state tile</code> returns a tuple which fst value is a boolean, did this function eat anything, and the second value is the map corresponding to that one tile eaten</p></dd></dl><dl><dt class="spec value" id="val-eat_bonus_tile"><a href="#val-eat_bonus_tile" class="anchor"></a><code><span class="keyword">val</span> eat_bonus_tile : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>eat_bonus_tile bonustile state</code> returns true if paccaml are on a bonus tile</p></dd></dl><dl><dt class="spec value" id="val-eat_power_tile"><a href="#val-eat_power_tile" class="anchor"></a><code><span class="keyword">val</span> eat_power_tile : <span><a href="../Levels/index.html#type-tile_id">Levels.tile_id</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../Levels/index.html#type-tile_id">Levels.tile_id</a> list</span> * bool * int</code></dt><dd><p><code>eat_power_tile powertiles st</code> return true if you are standing on a pragmatic tile. also returns an updated tile list and the id of the tile u were standing on</p></dd></dl><dl><dt class="spec value" id="val-make_power_tiles"><a href="#val-make_power_tiles" class="anchor"></a><code><span class="keyword">val</span> make_power_tiles : <a href="../Levels/index.html#type-map">Levels.map</a> <span>&#45;&gt;</span> <span><a href="../Levels/index.html#type-tile_id">Levels.tile_id</a> list</span></code></dt><dd><p><code>make_power_tiles map st</code> returns a set of powertiles with the number of them given by the size of the map</p></dd></dl><dl><dt class="spec value" id="val-disp_bonus_maintain"><a href="#val-disp_bonus_maintain" class="anchor"></a><code><span class="keyword">val</span> disp_bonus_maintain : <span><span>(int * int * int)</span> list</span> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> int <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(int * int * int)</span> list</span></code></dt><dd><p><code>disp_bonus_maintain displist power bonus_eat levelnum starttile</code> returns an updated list which contains the (loc, turns_left, points) which is all the necessary info to track what points text should be displayed</p></dd></dl><dl><dt class="spec value" id="val-update_bonus_tile"><a href="#val-update_bonus_tile" class="anchor"></a><code><span class="keyword">val</span> update_bonus_tile : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>int option</span> <span>&#45;&gt;</span> <span>int option</span> * int * bool</code></dt><dd><p><code>update_bonus_tile st ctr starttile bonustile</code> returns a triplet of a new bonus tile (depending on if it is time to make a bonustile), a new ctr, and a bool describing if the bonus tile was eaten</p></dd></dl></div></body></html>